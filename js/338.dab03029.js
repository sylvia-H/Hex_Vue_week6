"use strict";(self["webpackChunkweek6_vue_project"]=self["webpackChunkweek6_vue_project"]||[]).push([[338],{338:function(t,s,i){i.r(s),i.d(s,{default:function(){return U}});var e=i(252),a=i(577);const l={class:"container | my-12"},c=(0,e._)("h2",{class:"text-center"},"推薦好物",-1),d=(0,e._)("hr",{class:"my-6"},null,-1),n={class:"row"},o={class:"card rounded-4 overflow-hidden shadow w-100"},r={class:"ratio ratio-4x3"},u=["src"],h={class:"card-body"},p={class:"mb-4"},_={class:"mb-2"},g={class:"d-flex justify-content-between"},v=(0,e._)("a",{href:"#",class:"btn btn-outline-gray d-flex align-items-center"},[(0,e._)("i",{class:"bi bi-eye-fill me-2"}),(0,e.Uk)(" 詳細內容 ")],-1),b=["onClick","disabled"],m={key:0,class:"spinner-border text-warning",role:"status"},w=(0,e._)("span",{class:"visually-hidden"},"Loading...",-1),k=[w],y={key:1},f=(0,e._)("i",{class:"bi bi-cart3 me-2"},null,-1),x=(0,e.Uk)(" 加入購物車 "),C=[f,x];function D(t,s,i,w,f,x){return(0,e.wg)(),(0,e.iD)("section",l,[c,d,(0,e._)("div",n,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(f.products,(t=>((0,e.wg)(),(0,e.iD)("div",{key:t.id,class:"col-12 col-lg-4 | mb-6"},[(0,e._)("div",o,[(0,e._)("div",r,[(0,e._)("img",{src:t.imageUrl,class:"card-img-top img-cover",alt:""},null,8,u)]),(0,e._)("div",h,[(0,e._)("div",p,[(0,e._)("h4",_,(0,a.zw)(t.title),1),(0,e._)("p",null,"原價："+(0,a.zw)(t.origin_price),1),(0,e._)("p",null,"優惠價："+(0,a.zw)(t.price),1)]),(0,e._)("div",g,[v,(0,e._)("button",{onClick:s=>x.addCart(t.id),disabled:t.id===f.is_loadingItem,type:"button",class:"btn btn-dark d-flex align-items-center"},[t.id===f.is_loadingItem?((0,e.wg)(),(0,e.iD)("div",m,k)):((0,e.wg)(),(0,e.iD)("div",y,C))],8,b)])])])])))),128))])])}var I={data(){return{products:[],is_loadingItem:"",isLoading:!0}},methods:{getProducts(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/sylviah/products/all").then((t=>{this.products=t.data.products})).catch((()=>{}))},addCart(t,s=1){const i={product_id:t,qty:s};this.is_loadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/sylviah/cart",{data:i}).then((()=>{this.getCart(),this.is_loadingItem=""})).catch((()=>{}))}},mounted(){this.getProducts()}},j=i(744);const z=(0,j.Z)(I,[["render",D]]);var U=z}}]);
//# sourceMappingURL=338.dab03029.js.map